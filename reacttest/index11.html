<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8">
        <title>salt-demo</title>
        <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"> 
        <meta http-equiv="cleartype" content="on">
    <script src="http://static.runoob.com/assets/react/react-0.14.7/build/react.js"></script>
    <script src="http://static.runoob.com/assets/react/react-0.14.7/build/react-dom.min.js"></script>
    <script src="http://static.runoob.com/assets/react/browser.min.js"></script>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


        
         
    </head>
    <body class="zh-cn">
        <div id="App"></div>
 
        <!-- 项目脚本资源加载 -->
        <script type="text/babel">
        	 var UserGist = React.createClass({
        	 	getInitialState:function(){
        	 		return {
        	 			username:"",
        	 			lastGistUrl:""
        	 		};
        	 	},
        	 	componentDidMount:function(){
        	 		this.serverRequest = $.get(this.props.source,function(result){
        	 			var lastGist = result[0];
        	 			this.setState({
        	 				username:lastGist.owner.login,
        	 				lastGistUrl:lastGist.html_url
        	 			});
        	 		}.bind(this));
        	 	},
        	 	componentWillUnmount:function(){
        	 		this.serverRequest.abort();
        	 	},
        	 	render:function(){
        	 		return(
        	 			<div>
        	 				{this.state.username} 用户最新的Gist共享地址
        	 				<a href={this.state.lastGistUrl} target="_blank">{this.state.lastGistUrl}</a>
        	 			</div>
        	 		) 
        	 	} 
        	 });
        	 
        	 ReactDOM.render(
        	 	<UserGist source = "https://api.github.com/users/octocat/gists" />,
        	 	document.getElementById("App")
        	 );
        </script>
        
        
         
    </body>
</html>